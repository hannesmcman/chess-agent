(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{218:function(e,t,n){e.exports=n(556)},223:function(e,t,n){},225:function(e,t,n){},341:function(e,t){},343:function(e,t){},375:function(e,t){},376:function(e,t){},442:function(e,t){},556:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(19),i=n.n(o),u=(n(223),n(79)),s=n(80),c=n(82),l=n(81),h=n(83),m=n(217),f=n(214),d=(n(225),n(117)),v=n.n(d),g=n(204),p=n(35),b=n(84),y=n(216),S=n(118),w=n.n(S),q=n(205),O=n.n(q),I=n(206),j=n.n(I),k=n(207),C=n.n(k),E={p:10,n:30,b:30,r:50,q:90,k:900};function M(e,t){var n=e.fen();return(new C.a).analyze(n,{master:!1,variant:"standard",speeds:["classical"],ratings:[2e3,2200,2500]}).then(function(e){var t=e.moves;return t[Math.floor(Math.random()*t.length)].san}).catch(function(){return function(e,t){var n=e.moves();return j()(n,function(n){e.move(n);var r=function e(t,n,r,a,o){if(0===n||t.game_over())return function(e){var t="w"===e.turn(),n=O()(e.SQUARES,function(t,n){var r=e.get(n);if(null===r)return t;var a="w"===r.color?E[r.type]:-E[r.type];return t+a},0);return t?n:-n}(t);if(o){for(var i=Number.NEGATIVE_INFINITY,u=t.moves(),s=0;s<u.length&&(t.move(u[s]),i=Math.max(i,e(t,n-1,r,a,!1)),t.undo(),!((r=Math.max(r,i))>=a));s++);return i}for(var c=Number.POSITIVE_INFINITY,l=t.moves(),h=0;h<l.length&&(t.move(l[h]),c=Math.min(c,e(t,n-1,r,a,!0)),t.undo(),a=Math.min(a,c),!(r>=a));h++)return c}(e,t-1,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,!0);return e.undo(),r})}(e,t)})}var N=n(208),x=n.n(N),D=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={fen:"start",dropSquareStyle:{},squareStyles:{},pieceSquare:"",square:"",history:[],boardWidth:window.innerWidth/2},n.game=void 0,n.updateDimensions=function(){n.setState(function(){return{boardWidth:window.innerWidth/2}})},n.removeHighlightSquare=function(){n.setState(function(e){var t=e.pieceSquare,n=e.history;return{squareStyles:T({pieceSquare:t,history:n})}})},n.highlightSquare=function(e,t){var r=[e].concat(Object(y.a)(t)).reduce(function(e,t){return Object(b.a)({},e,Object(p.a)({},t,{background:"rgba(50,205,50,0.4)"}),T({history:n.state.history,pieceSquare:n.state.pieceSquare}))},{});n.setState(function(e){var t=e.squareStyles;return{squareStyles:Object(b.a)({},t,r)}})},n.onDrop=function(e){var t=e.sourceSquare,r=e.targetSquare;if(null!==n.game.move({from:t,to:r,promotion:"q"}))return new Promise(function(e){n.setState(function(){return{fen:n.game.fen()}}),e(),n.updateHistory()}).then(function(){return setTimeout(function(){n.makeAIMove()},500)})},n.makeAIMove=Object(g.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.game.game_over()&&n.resetGame(),e.next=3,M(n.game,2);case 3:t=e.sent,n.game.move(t),n.setState(function(){return{fen:n.game.fen()}}),n.updateHistory();case 7:case"end":return e.stop()}},e,this)})),n.resetGame=function(){n.game=new w.a},n.allowDrag=function(e){return e.piece[0]===n.props.userColor[0]},n.updateHistory=function(){var e=n.game.history({verbose:!0});n.setState(function(t){var n=t.pieceSquare;return{history:e,squareStyles:T({pieceSquare:n,history:e})}})},n.onMouseOverSquare=function(e){var t=n.game.moves({square:e,verbose:!0});if(0!==t.length){for(var r=[],a=0;a<t.length;a++)r.push(t[a].to);n.highlightSquare(e,r)}},n.onMouseOutSquare=function(e){return n.removeHighlightSquare(e)},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.game=new w.a,window.addEventListener("resize",this.updateDimensions),"black"===this.props.userColor&&setTimeout(function(){e.makeAIMove()},500)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this.state,t=e.fen,n=e.dropSquareStyle,r=e.squareStyles,o=e.boardWidth;return a.a.createElement(x.a,{allowDrag:this.allowDrag,boardStyle:{borderRadius:"5px",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.5)"},dropSquareStyle:n,id:"HumanVsAI",onDrop:this.onDrop,onMouseOutSquare:this.onMouseOutSquare,onMouseOverSquare:this.onMouseOverSquare,onSquareClick:this.onMouseOverSquare,position:t,squareStyles:r,width:o})}}]),t}(r.Component),T=function(e){var t=e.pieceSquare,n=e.history,r=n.length&&n[n.length-1].from,a=n.length&&n[n.length-1].to;return Object(b.a)(Object(p.a)({},t,{backgroundColor:"rgba(255, 255, 0, 0.4)"}),n.length&&Object(p.a)({},r,{backgroundColor:"rgba(255, 255, 0, 0.4)"}),n.length&&Object(p.a)({},a,{backgroundColor:"rgba(255, 255, 0, 0.4)"}))},A=[{value:"black",label:"Black"},{value:"white",label:"White"}],W=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={inGame:!1,userColor:A[1]},n.handleSubmit=function(){n.setState(function(){return{inGame:!0}})},n.handleChange=function(e){n.setState(function(){return{userColor:e}})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return this.state.inGame?a.a.createElement("div",{style:B.boardsContainer},a.a.createElement(D,{userColor:this.state.userColor.value})):a.a.createElement("div",{style:B.container},a.a.createElement("div",{style:B.dialogue},a.a.createElement("h1",null,"Let's Play Chess!"),a.a.createElement("div",{style:B.select},a.a.createElement(m.a,{className:"select",onChange:this.handleChange,options:A,value:this.state.userColor})),a.a.createElement("div",{style:B.select},a.a.createElement(f.a,{color:"success",onClick:this.handleSubmit},"Play!"))))}}]),t}(r.Component),B={boardsContainer:{display:"flex",justifyContent:"space-around",alignItems:"center",flexWrap:"wrap",width:"100vw",marginTop:30,marginBottom:50},container:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},dialogue:{width:"50vw",textAlign:"center"},select:{display:"flex",justifyContent:"center",marginBottom:20}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=n(213);n(554);i.a.render(a.a.createElement(W,null),document.getElementById("root"));var H=document.getElementById("root");Object(G.disableBodyScroll)(H),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[218,2,1]]]);
//# sourceMappingURL=main.9a387e0d.chunk.js.map